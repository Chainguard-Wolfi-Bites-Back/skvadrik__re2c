/* Generated by re2c */
// re2c $INPUT -o $OUTPUT -i --header lexer/state.h
#include <assert.h>
#include <stddef.h>
#include "lexer/state.h" // the header is generated by re2c



long lex(LexerState* yyrecord) {
    const char *t;
    
{
	char yych;
	goto yy0;
yy1:
	++yyrecord->cur;
yy0:
	yych = *yyrecord->cur;
	switch (yych) {
		case 'a': goto yy1;
		case 'b':
			yyrecord->yyt1 = yyrecord->cur;
			goto yy3;
		default:
			yyrecord->yyt1 = yyrecord->cur;
			goto yy2;
	}
yy2:
	t = yyrecord->yyt1;
	{ return t - yyrecord->str; }
yy3:
	++yyrecord->cur;
	yych = *yyrecord->cur;
	switch (yych) {
		case 'b': goto yy3;
		default: goto yy2;
	}
}

}

int main() {
    const char *s = "ab";
    LexerState st = { s, s , NULL };
    assert(lex(&st) == 1);
    return 0;
}
/* Generated by re2c */

struct LexerState {
    const char *str, *cur;
    const char *yyt1;
};
c/headers/header.re:22:21: warning: rule matches empty string [-Wmatch-empty-string]
